{"version":3,"sources":["main.es2015.js"],"names":[],"mappings":";;;;;;;AAAA;;AAEe,SAAS,iBAAT,CAA2B;AAAC,SAAO;AAAR,CAA3B,EAAuC;AACrD,SAAO;AACN,aAAS;AACR,2BAAqB,IAArB,EAA2B;AAAA,cACnB,IADmB,GACI,IADJ,CACnB,IADmB;AAAA,cACb,MADa,GACI,IADJ,CACb,MADa;AAAA,cACL,KADK,GACI,IADJ,CACL,KADK;AAG1B,YAAI,KAAK,IAAL,KAAc,SAAlB,EAA6B;AAC7B,YAAI,EAAE,kBAAF,CAAqB,MAArB,CAAJ,EAAkC;AAClC,YAAI,MAAM,oBAAN,CAA2B,SAA3B,CAAJ,EAA2C;AAE3C,aAAK,WAAL,CAAiB,mCAAS,IAAT,EAAe,SAAf,EAA0B,UAA1B,EAAsC;AAAC,oBAAU;AAAX,SAAtC,CAAjB;AACA,OATO;;AAWR,uBAAiB,IAAjB,EAAuB;AAAA,cACf,IADe,GACP,IADO,CACf,IADe;AAEtB,cAAM,MAAM,KAAK,MAAjB;AAEA,YAAI,IAAI,IAAJ,KAAa,SAAjB,EAA4B;AAC5B,YAAI,CAAC,KAAK,YAAL,EAAL,EAA0B;AAC1B,YAAI,KAAK,KAAL,CAAW,oBAAX,CAAgC,SAAhC,CAAJ,EAAgD;;AAEhD,YAAI,KAAK,QAAT,EAAmB;AAClB,eAAK,WAAL,CACC,EAAE,gBAAF,CACC,mCAAS,IAAT,EAAe,SAAf,EAA0B,UAA1B,EAAsC;AAAC,sBAAU;AAAX,WAAtC,CADD,EAEC,KAAK,QAFN,EAGC,IAHD,CADD;AAOA,SARD,MAQO;AACN,eAAK,WAAL,CACC,mCACC,IADD,EAEC,KAAK,QAAL,CAAc,IAFf,EAGC,UAHD,EAIC;AAAC,sBAAU;AAAX,WAJD,CADD;AAQA;AACD;;AArCO;AADH,GAAP;AAyCA","file":"main.es5.js","sourcesContent":["import {addNamed} from '@babel/helper-module-imports';\n\nexport default function promiseToBluebird({types: t}) {\n\treturn {\n\t\tvisitor: {\n\t\t\tReferencedIdentifier(path) {\n\t\t\t\tconst {node, parent, scope} = path;\n\n\t\t\t\tif (node.name !== 'Promise') return;\n\t\t\t\tif (t.isMemberExpression(parent)) return;\n\t\t\t\tif (scope.getBindingIdentifier('Promise')) return;\n\n\t\t\t\tpath.replaceWith(addNamed(path, 'default', 'bluebird', {nameHint: 'Promise'}));\n\t\t\t},\n\n\t\t\tMemberExpression(path) {\n\t\t\t\tconst {node} = path;\n\t\t\t\tconst obj = node.object;\n\n\t\t\t\tif (obj.name !== 'Promise') return;\n\t\t\t\tif (!path.isReferenced()) return;\n\t\t\t\tif (path.scope.getBindingIdentifier('Promise')) return;\n\n\t\t\t\tif (node.computed) {\n\t\t\t\t\tpath.replaceWith(\n\t\t\t\t\t\tt.memberExpression(\n\t\t\t\t\t\t\taddNamed(path, 'default', 'bluebird', {nameHint: 'Promise'}),\n\t\t\t\t\t\t\tnode.property,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tpath.replaceWith(\n\t\t\t\t\t\taddNamed(\n\t\t\t\t\t\t\tpath,\n\t\t\t\t\t\t\tnode.property.name,\n\t\t\t\t\t\t\t'bluebird',\n\t\t\t\t\t\t\t{nameHint: 'Promise'}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t};\n}\n"]}